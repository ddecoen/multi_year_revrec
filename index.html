<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASC 606 Multi-Obligation Revenue Recognition Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ASC 606 Multi-Obligation Revenue Recognition Calculator</h1>
            <p>Calculate revenue recognition for Installation + License + Support based on Standalone Selling Prices</p>
        </header>

        <main>
            <form id="revenueForm">
                <section class="contract-info">
                    <h2>Step 1: Contract Information (ASC 606 Step 1 - Identify Contract)</h2>
                    <div class="form-group">
                        <label for="totalContractPrice">Total Contract Price ($)</label>
                        <input type="number" id="totalContractPrice" step="0.01" required>
                        <small>This is the total contract value to be allocated across performance obligations</small>
                    </div>
                    <div class="form-group">
                        <label for="contractTerm">Contract Term (Years)</label>
                        <input type="number" id="contractTerm" min="1" max="10" value="3" required>
                        <small>License and support duration (Installation is Year 1 only)</small>
                    </div>
                </section>

                <section class="ssp-analysis">
                    <h2>Step 3: Standalone Selling Price (SSP) Analysis</h2>
                    <div class="ssp-grid">
                        <div class="ssp-card">
                            <h3>üîß Initial Software Installation</h3>
                            <div class="form-group">
                                <label for="installationSSP">Installation SSP ($)</label>
                                <input type="number" id="installationSSP" step="0.01" value="150000" required>
                                <small>One-time installation service (Year 1 only)</small>
                            </div>
                        </div>
                        
                        <div class="ssp-card">
                            <h3>üîë Software License</h3>
                            <div class="form-group">
                                <label for="licenseSSP">License SSP ($)</label>
                                <input type="number" id="licenseSSP" step="0.01" value="600000" required>
                                <small>Software access rights (recognized at point in time)</small>
                            </div>
                        </div>
                        
                        <div class="ssp-card">
                            <h3>üõ†Ô∏è Technical Support</h3>
                            <div class="form-group">
                                <label for="supportSSP">Support SSP ($)</label>
                                <input type="number" id="supportSSP" step="0.01" value="300000" required>
                                <small>Ongoing support services (over contract term)</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="ssp-summary">
                        <div class="ssp-total">
                            <span>Total SSP: <strong id="totalSSP">$1,050,000</strong></span>
                        </div>
                        <button type="button" id="calculateAllocation" class="secondary-btn">Calculate Allocation Percentages</button>
                    </div>
                </section>

                <section class="performance-obligations">
                    <h2>Step 2: Performance Obligations & Allocation</h2>
                    
                    <div class="obligation-card installation-card">
                        <h3>üîß Initial Software Installation</h3>
                        <div class="allocation-info">
                            <span class="allocation-percent" id="installationPercent">14.29%</span>
                            <span class="allocation-amount" id="installationAmount">$0.00</span>
                        </div>
                        <div class="recognition-info">
                            <span class="recognition-timing">Recognition: Point in Time (Year 1)</span>
                        </div>
                    </div>
                    
                    <div class="obligation-card license-card">
                        <h3>üîë Software License</h3>
                        <div class="allocation-info">
                            <span class="allocation-percent" id="licensePercent">57.14%</span>
                            <span class="allocation-amount" id="licenseAmount">$0.00</span>
                        </div>
                        <div class="recognition-info">
                            <span class="recognition-timing">Recognition: Point in Time (Year 1)</span>
                        </div>
                    </div>
                    
                    <div class="obligation-card support-card">
                        <h3>üõ†Ô∏è Technical Support</h3>
                        <div class="allocation-info">
                            <span class="allocation-percent" id="supportPercent">28.57%</span>
                            <span class="allocation-amount" id="supportAmount">$0.00</span>
                        </div>
                        <div class="recognition-info">
                            <span class="recognition-timing">Recognition: Over Time (Years 1-3)</span>
                        </div>
                    </div>
                </section>

                <section class="recognition-timing">
                    <h2>Step 5: Revenue Recognition Schedule</h2>
                    <div class="timing-summary">
                        <div class="timing-item">
                            <strong>Year 1:</strong> Installation + License + Support (1/3)
                        </div>
                        <div class="timing-item">
                            <strong>Years 2-3:</strong> Support only (remaining 2/3)
                        </div>
                    </div>
                </section>

                <div class="form-actions">
                    <button type="submit">Calculate ASC 606 Revenue Schedule</button>
                    <button type="reset">Reset</button>
                </div>
            </form>

            <section class="results" id="results" style="display: none;">
                <h2>ASC 606 Revenue Recognition Schedule</h2>
                
                <div class="obligations-summary">
                    <div class="summary-card installation-summary">
                        <h3>üîß Installation</h3>
                        <div class="summary-amount" id="finalInstallationAmount">$0.00</div>
                        <div class="summary-timing">Year 1 Only</div>
                    </div>
                    
                    <div class="summary-card license-summary">
                        <h3>üîë License</h3>
                        <div class="summary-amount" id="finalLicenseAmount">$0.00</div>
                        <div class="summary-timing">Year 1 Only</div>
                    </div>
                    
                    <div class="summary-card support-summary">
                        <h3>üõ†Ô∏è Support</h3>
                        <div class="summary-amount" id="finalSupportAmount">$0.00</div>
                        <div class="summary-timing">
                            <div>Total: <span id="supportTotal">$0.00</span></div>
                            <div>Annual: <span id="supportAnnual">$0.00</span></div>
                            <div>Monthly: <span id="supportMonthly">$0.00</span></div>
                        </div>
                    </div>
                </div>

                <div class="revenue-schedule">
                    <h3>Annual Revenue Recognition Schedule</h3>
                    <table id="scheduleTable">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Installation</th>
                                <th>License</th>
                                <th>Support</th>
                                <th>Total Revenue</th>
                                <th>Cumulative</th>
                            </tr>
                        </thead>
                        <tbody id="scheduleBody">
                        </tbody>
                    </table>
                </div>

                <div class="asc606-compliance">
                    <h3>ASC 606 Compliance Summary</h3>
                    <div class="compliance-details">
                        <div class="compliance-step">
                            <strong>Step 1:</strong> Contract with customer identified ‚úÖ
                        </div>
                        <div class="compliance-step">
                            <strong>Step 2:</strong> Three distinct performance obligations identified ‚úÖ
                            <ul>
                                <li>Installation (one-time service)</li>
                                <li>License (point in time transfer)</li>
                                <li>Support (over time service)</li>
                            </ul>
                        </div>
                        <div class="compliance-step">
                            <strong>Step 3:</strong> Transaction price determined ‚úÖ
                        </div>
                        <div class="compliance-step">
                            <strong>Step 4:</strong> Transaction price allocated based on relative SSP ‚úÖ
                            <ul>
                                <li>Installation: <span id="complianceInstallation">14.29%</span></li>
                                <li>License: <span id="complianceLicense">57.14%</span></li>
                                <li>Support: <span id="complianceSupport">28.57%</span></li>
                            </ul>
                        </div>
                        <div class="compliance-step">
                            <strong>Step 5:</strong> Revenue recognized when/as obligations satisfied ‚úÖ
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>